<div class="serenity-modal" data-modal="login" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true">
        <header>
            <h3>登录</h3>
            <button type="button" class="serenity-icon-button" data-modal-close aria-label="关闭">×</button>
        </header>
        <form action="{{ url_for('auth.login') }}" method="POST">
            <label for="login-identifier">用户名或邮箱
                <input id="login-identifier" type="text" name="username" autocomplete="username" required>
            </label>
            <label for="login-password">密码
                <input id="login-password" type="password" name="password" autocomplete="current-password" required>
            </label>
            <div class="modal-meta">
                <label class="checkbox">
                    <input type="checkbox" name="remember_me" value="on"> 记住我
                </label>
                <button type="button" class="serenity-link" data-modal-switch="forgot_password">忘记密码？</button>
            </div>
            <button type="submit" class="serenity-solid-button">登录</button>
        </form>
        <footer class="modal-footer">
            <span>还没有账号？</span>
            <button type="button" class="serenity-link" data-modal-switch="register">立即注册</button>
        </footer>
    </div>
</div>

<div class="serenity-modal" data-modal="register" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true">
        <header>
            <h3>注册</h3>
            <button type="button" class="serenity-icon-button" data-modal-close aria-label="关闭">×</button>
        </header>
        <form action="{{ url_for('auth.register') }}" method="POST">
            <label for="register-username">用户名
                <input id="register-username" type="text" name="username" required>
            </label>
            <label for="register-email">邮箱
                <input id="register-email" type="email" name="email" autocomplete="email" required>
            </label>
            <label for="register-display-name">显示名称（可选）
                <input id="register-display-name" type="text" name="display_name">
            </label>
            <label for="register-password">密码
                <input id="register-password" type="password" name="password" minlength="6" autocomplete="new-password" required>
            </label>
            <label for="register-password-confirm">确认密码
                <input id="register-password-confirm" type="password" name="confirm_password" minlength="6" autocomplete="new-password" required>
            </label>
            <button type="submit" class="serenity-solid-button">注册</button>
        </form>
        <footer class="modal-footer">
            <span>已有账号？</span>
            <button type="button" class="serenity-link" data-modal-switch="login">登录</button>
        </footer>
    </div>
</div>

<div class="serenity-modal" data-modal="forgot_password" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true">
        <header>
            <h3>找回密码</h3>
            <button type="button" class="serenity-icon-button" data-modal-close aria-label="关闭">×</button>
        </header>
        <form action="{{ url_for('auth.forgot_password') }}" method="POST">
            <label for="forgot-email">注册邮箱
                <input id="forgot-email" type="email" name="email" autocomplete="email" required>
            </label>
            <p class="modal-helper">我们会向该邮箱发送一封重置密码邮件。</p>
            <div class="modal-actions">
                <button type="button" class="serenity-ghost-button" data-modal-switch="login">返回登录</button>
                <button type="submit" class="serenity-solid-button">发送链接</button>
            </div>
        </form>
    </div>
</div>
